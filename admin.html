<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IPL Admin Panel</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #eef2f5;
    margin: 0; padding: 0;
  }
  .container {
    max-width: 900px;
    margin: 30px auto;
    background: #fff;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }
  h2, h3 {text-align:center;}
  label {display:block;margin-top:10px;font-weight:bold;}
  input, button {
    width: 100%; padding: 10px; margin-top: 5px;
    border: 1px solid #ccc; border-radius: 6px; font-size: 15px;
  }
  button {
    background: #007bff; color: white; border: none; cursor: pointer;
  }
  button:hover {background: #0056b3;}
  img.preview {max-width:100%;margin-top:10px;border-radius:8px;}
  .match-card {
    border:1px solid #ccc; padding:10px; margin-top:15px; border-radius:8px;
  }
  .match-card img {width:100%;border-radius:8px;}
</style>
</head>
<body>

<div class="container">
  <h2>🏏 IPL Admin Panel</h2>

  <!-- Banner Upload -->
  <h3>🖼 Update Banner</h3>
  <input type="file" id="banner-file" accept="image/*">
  <button id="banner-btn">Save Banner</button>
  <img id="banner-preview" class="preview" alt="Banner Preview">

  <hr>

  <!-- Add Match -->
  <h3>➕ Add Match</h3>
  <label>Teams</label>
  <input type="text" id="match-teams" placeholder="e.g. MI vs CSK">
  <label>Date</label>
  <input type="date" id="match-date">
  <label>Time</label>
  <input type="time" id="match-time">
  <label>Stadium</label>
  <input type="text" id="match-stadium" placeholder="e.g. Wankhede Stadium">
  <label>Match Image</label>
  <input type="file" id="match-file" accept="image/*">
  <button id="add-match-btn">Add Match</button>

  <hr>

  <h3>📅 All Matches</h3>
  <div id="matches-list"></div>
</div>

<script>
let matches = JSON.parse(localStorage.getItem("iplMatches") || "[]");

/* Load banner + matches when page opens */
document.addEventListener("DOMContentLoaded", () => {
  const savedBanner = localStorage.getItem("bannerURL");
  if(savedBanner){
    document.getElementById("banner-preview").src = savedBanner;
  }
  displayMatches();
});

/* Banner upload */
document.getElementById("banner-btn").addEventListener("click", () => {
  const fileInput = document.getElementById("banner-file");
  if(fileInput.files.length === 0){
    alert("Please select an image first!");
    return;
  }
  const file = fileInput.files[0];
  const reader = new FileReader();
  reader.onload = (e) => {
    const dataURL = e.target.result;
    localStorage.setItem("bannerURL", dataURL);
    document.getElementById("banner-preview").src = dataURL;
    alert("✅ Banner saved successfully!");
    fileInput.value = "";
  };
  reader.readAsDataURL(file);
});

/* Add match */
document.getElementById("add-match-btn").addEventListener("click", () => {
  const teams = document.getElementById("match-teams").value.trim();
  const date = document.getElementById("match-date").value;
  const time = document.getElementById("match-time").value;
  const stadium = document.getElementById("match-stadium").value.trim();
  const fileInput = document.getElementById("match-file");

  if(!teams || !date || !time || !stadium || fileInput.files.length === 0){
    alert("⚠️ Fill all fields and select an image");
    return;
  }

  const file = fileInput.files[0];
  const reader = new FileReader();
  reader.onload = (e) => {
    const imgDataURL = e.target.result;
    matches.push({teams,date,time,stadium,img:imgDataURL});
    localStorage.setItem("iplMatches", JSON.stringify(matches));
    displayMatches();
    document.getElementById("match-teams").value = "";
    document.getElementById("match-date").value = "";
    document.getElementById("match-time").value = "";
    document.getElementById("match-stadium").value = "";
    fileInput.value = "";
  };
  reader.readAsDataURL(file);
});

/* Display matches */
function displayMatches(){
  const list = document.getElementById("matches-list");
  list.innerHTML = "";
  matches.forEach((m,i)=>{
    const div = document.createElement("div");
    div.className = "match-card";
    div.innerHTML = `
      <img src="${m.img}" alt="Match">
      <h4>${m.teams}</h4>
      <p>📅 ${m.date} ⏰ ${m.time}</p>
      <p>🏟️ ${m.stadium}</p>
      <button onclick="deleteMatch(${i})" style="background:red;">Delete</button>
    `;
    list.appendChild(div);
  });
}

/* Delete match */
function deleteMatch(i){
  if(confirm("Delete this match?")){
    matches.splice(i,1);
    localStorage.setItem("iplMatches", JSON.stringify(matches));
    displayMatches();
  }
}
</script>
</body>
</html>
