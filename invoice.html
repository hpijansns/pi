<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Invoice - IPL Tickets</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
body {
  margin:0;
  padding:0;
  font-family:'Roboto',sans-serif;
  background:#f0f2f7;
  color:#333;
}
header {
  width:100%;
  background:#333545;
  color:#fff;
  display:flex;
  align-items:center;
  padding:12px 20px;
  position:sticky;
  top:0;
  z-index:1000;
  box-shadow:0 2px 6px rgba(0,0,0,0.2);
}
header h1 { font-size:22px; font-weight:700; }
.container {
  max-width:900px;
  margin:25px auto;
  padding:15px;
}
.invoice-box {
  background:#fff;
  padding:35px;
  border-radius:15px;
  box-shadow:0 20px 40px rgba(0,0,0,0.1);
  border-top:6px solid #f84464;
  animation: fadeIn 0.6s ease-in-out;
}
.invoice-box h2 {
  text-align:center;
  font-size:28px;
  margin-bottom:10px;
  font-weight:700;
  color:#1a1a1a;
}
.booking-id, .timestamp {
  text-align:center;
  font-size:14px;
  color:#f84464;
  margin-bottom:5px;
  font-weight:500;
}
.match-info {
  text-align:center;
  font-size:16px;
  color:#555;
  margin-bottom:20px;
}
.seats-list {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  list-style:none;
  padding:0;
  margin:10px 0;
}
.seats-list li {
  background:#6fcf97;
  color:#fff;
  padding:8px 14px;
  margin:5px;
  border-radius:10px;
  font-weight:600;
  box-shadow:0 3px 6px rgba(0,0,0,0.15);
  transition:0.3s;
}
.seats-list li:hover { transform:translateY(-3px); box-shadow:0 6px 12px rgba(0,0,0,0.2); }
.total {
  text-align:center;
  font-size:20px;
  font-weight:700;
  margin-top:15px;
  color:#1a1a1a;
}
button {
  padding:14px 25px;
  font-size:16px;
  font-weight:700;
  border:none;
  border-radius:10px;
  cursor:pointer;
  margin:15px 5px;
  color:#fff;
  transition:0.3s;
}
#proceedPayment { 
  background:linear-gradient(90deg,#4caf50,#2e7d32);
}
button:hover { transform:translateY(-2px); box-shadow:0 6px 15px rgba(0,0,0,0.2); }
@keyframes fadeIn {0% {opacity:0; transform:translateY(20px);} 100% {opacity:1; transform:translateY(0);}
}
@media(max-width:600px){
  .invoice-box h2{font-size:24px;}
  .seats-list li{padding:6px 10px; font-size:14px;}
  button{font-size:14px; padding:12px;}
}
</style>
</head>
<body>

<header>
  <h1>IPL Tickets</h1>
</header>

<div class="container">
  <div class="invoice-box">
    <h2>Invoice</h2>
    <p class="booking-id" id="bookingID"></p>
    <p class="timestamp" id="timestamp"></p>
    <div class="match-info" id="matchInfo"></div>
    
    <h3>Selected Seats</h3>
    <ul class="seats-list" id="seatList"></ul>
    
    <p class="total">Total Amount: â‚¹<span id="totalAmount">0</span></p>
    <button id="proceedPayment">Proceed to Payment</button>
  </div>
</div>

<script>
// Load selected match and seats
const selectedMatch = JSON.parse(localStorage.getItem('selectedMatch'));
if(!selectedMatch){ alert("No match selected!"); window.location.href="index.html"; }

const selectedSeats = JSON.parse(localStorage.getItem('selectedSeats')) || [];
if(selectedSeats.length === 0){ alert("No seats selected!"); window.location.href="index.html"; }

// Booking ID & Timestamp
const bookingID = 'IPL2025-' + Date.now();
const now = new Date();
const timestamp = now.toLocaleString();
document.getElementById('bookingID').textContent = `Booking ID: ${bookingID}`;
document.getElementById('timestamp').textContent = `Date & Time: ${timestamp}`;

// Match info
document.getElementById('matchInfo').innerHTML = `<strong>${selectedMatch.teams}</strong><br>${selectedMatch.date} | ${selectedMatch.stadium}`;

// Seats & total
const seatList = document.getElementById('seatList');
const seatPrice = 1000;
let totalAmount = 0;
selectedSeats.forEach(seat=>{
  const li = document.createElement('li');
  li.textContent = seat;
  seatList.appendChild(li);
  totalAmount += seatPrice;
});

document.getElementById('totalAmount').textContent = totalAmount;

// Proceed to Payment
document.getElementById('proceedPayment').addEventListener('click', ()=>{
  const invoiceData = {
    match: selectedMatch,
    seats: selectedSeats,
    total: totalAmount,
    bookingID,
    timestamp
  };
  localStorage.setItem('invoiceData', JSON.stringify(invoiceData));
  window.location.href = "payment-qr.html";
});
</script>

</body>
</html>
