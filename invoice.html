<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Invoice - IPL Tickets</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
body{margin:0;padding:0;font-family:'Roboto',sans-serif;background:#fff;color:#000;}
header img{width:100%;display:block;margin-bottom:20px;border-radius:5px;}
.container{max-width:800px;margin:20px auto;padding:20px;}
.invoice-box{background:#fff;padding:30px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,0.08);border-top:6px solid #000;}
.invoice-box h2{text-align:center;font-size:28px;margin-bottom:20px;font-weight:700;color:#000;}
.match-info{text-align:center;margin-bottom:20px;}
.match-info img{max-width:100%;border-radius:8px;margin-top:10px;}
.seats-table{width:100%;border-collapse:collapse;margin-top:20px;}
.seats-table th, .seats-table td{border:1px solid #000;padding:10px;text-align:center;font-size:14px;}
.seats-table th{background:#f4f4f4;font-weight:700;}
.total{text-align:right;font-size:20px;font-weight:700;margin-top:20px;}
button#pay{display:block;margin:25px auto;padding:12px 25px;font-size:16px;font-weight:700;border:none;border-radius:8px;background:#4CAF50;color:#fff;cursor:pointer;transition:0.3s;}
button#pay:hover{background:#43A047;}
@media(max-width:600px){
    .seats-table th, .seats-table td{padding:6px;font-size:12px;}
}
</style>
</head>
<body>

<header>
<img src="https://iili.io/K8L5Ots.jpg" alt="Header">
</header>

<div class="container">
<div class="invoice-box">
<h2>Invoice</h2>
<div class="match-info" id="matchInfo"></div>

<table class="seats-table">
<thead>
<tr>
<th>Seat Number</th>
<th>Price (₹)</th>
</tr>
</thead>
<tbody id="seatList"></tbody>
</table>

<p class="total">Total Amount: ₹<span id="totalAmount">0</span></p>
<button id="pay">Proceed to Payment</button>
</div>
</div>

<script>
const invoiceData = JSON.parse(localStorage.getItem('invoiceData'));
if(!invoiceData){ alert("No invoice data!"); window.location.href="seat-selection.html"; }

document.getElementById('matchInfo').innerHTML = `
  <strong>${invoiceData.match.teams}</strong><br>
  ${invoiceData.match.date} | ${invoiceData.match.time || '—'} | ${invoiceData.match.stadium}
  <br><img src="${invoiceData.match.img}" alt="${invoiceData.match.teams}">
`;

const seatList = document.getElementById('seatList');
invoiceData.seats.forEach(seat=>{
  const tr = document.createElement('tr');
  tr.innerHTML = `<td>${seat}</td><td>₹${invoiceData.total/invoiceData.seats.length}</td>`;
  seatList.appendChild(tr);
});

document.getElementById('totalAmount').textContent = invoiceData.total;

// Open payment page in new tab
document.getElementById('pay').addEventListener('click', ()=>{
  window.open("payment.html", "_blank");
});
</script>

</body>
</html>
