<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payment - IPL Tickets</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
body{margin:0;padding:0;font-family:'Roboto',sans-serif;background:#f4f7fc;color:#333;}
header{width:100%;background:#333545;color:#fff;display:flex;align-items:center;padding:10px 20px;position:sticky;top:0;z-index:1000;}
header h1{font-size:22px;}
.container{max-width:900px;margin:20px auto;padding:10px;}
.payment-box{background:#fff;padding:30px;border-radius:15px;box-shadow:0 15px 30px rgba(0,0,0,0.1);border-top:6px solid #f84464;text-align:center;}
.payment-box h2{font-size:28px;margin-bottom:10px;color:#1a1a1a;}
.seats-list{display:flex;flex-wrap:wrap;justify-content:center;list-style:none;padding:0;margin:10px 0;}
.seats-list li{background:#6fcf97;color:#fff;padding:8px 12px;margin:5px;border-radius:8px;font-weight:500;}
.qr-container img{width:200px;height:200px;}
input#utrInput{padding:10px;font-size:16px;width:250px;text-align:center;border-radius:8px;border:1px solid #ccc;margin-bottom:15px;}
button#payWithUTR{padding:12px 20px;font-size:16px;font-weight:700;border:none;border-radius:8px;cursor:pointer;color:#fff;background:#4caf50;margin-top:10px;}
button#payWithUTR:hover{background:#43a047;}
</style>
</head>
<body>

<header><h1>IPL Tickets</h1></header>

<div class="container">
<div class="payment-box">
<h2>Scan & Pay</h2>
<div class="match-info" id="matchInfo"></div>
<h3>Seats</h3>
<ul class="seats-list" id="seatList"></ul>
<p class="total-amount" id="totalAmount"></p>
<div class="qr-container"><img src="https://iili.io/K8pC8WG.png" alt="Scan to Pay QR"></div>
<p>Enter UTR after payment:</p>
<input type="text" id="utrInput" placeholder="Enter UTR">
<br>
<button id="payWithUTR">Pay</button>
</div>
</div>

<script>
const invoiceData = JSON.parse(localStorage.getItem('invoiceData'));
if(!invoiceData){ alert("No data!"); window.location.href="seat-selection.html"; }

document.getElementById('matchInfo').innerHTML = `<strong>${invoiceData.match.teams}</strong><br>${invoiceData.match.date} | ${invoiceData.match.stadium}`;

const seatList = document.getElementById('seatList');
invoiceData.seats.forEach(seat=>{
  const li = document.createElement('li');
  li.textContent = seat;
  seatList.appendChild(li);
});

document.getElementById('totalAmount').textContent = `Total Amount: â‚¹${invoiceData.total}`;

document.getElementById('payWithUTR').addEventListener('click', ()=>{
  const utr = document.getElementById('utrInput').value.trim();
  if(utr===""){ alert("Enter UTR!"); return; }
  localStorage.setItem('utrNumber', utr);
  window.location.href="ticket.html";
});
</script>

</body>
</html>
