<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your IPL Ticket</title>
<style>
    body {
        font-family: 'Roboto', sans-serif;
        background: #f2f2f2;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }
    .ticket {
        width: 380px;
        background: white;
        border-radius: 20px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        overflow: hidden;
        position: relative;
    }
    .header {
        background: linear-gradient(135deg, #e91e63, #9c27b0);
        color: white;
        text-align: center;
        padding: 15px 10px;
    }
    .header h2 {
        margin: 5px 0;
        font-size: 22px;
        font-weight: bold;
    }
    .details {
        padding: 20px;
        font-size: 15px;
        color: #333;
    }
    .details p {
        margin: 8px 0;
        display: flex;
        justify-content: space-between;
    }
    .qr {
        display: flex;
        justify-content: center;
        align-items: center;
        background: #fafafa;
        padding: 15px;
        border-top: 1px dashed #ccc;
    }
    .qr img {
        width: 110px;
        height: 110px;
    }
    .footer {
        background: #efefef;
        text-align: center;
        font-size: 13px;
        color: #777;
        padding: 8px;
    }
</style>
</head>
<body>

<div class="ticket">
    <div class="header">
        <h2 id="matchName">Loading...</h2>
        <p id="stadiumName">üèüÔ∏è Stadium</p>
    </div>

    <div class="details">
        <p><strong>Seats:</strong> <span id="seatNumbers">--</span></p>
        <p><strong>Date:</strong> <span id="matchDate">--</span></p>
        <p><strong>Time:</strong> <span id="matchTime">--</span></p>
        <p><strong>Ticket ID:</strong> <span id="ticketID">--</span></p>
    </div>

    <div class="qr">
        <img id="qrCode" src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=IPL_TICKET" alt="QR Code">
    </div>

    <div class="footer">
        üéüÔ∏è Thank you for booking with <b>BookMyShow Clone</b>  
    </div>
</div>

<script>
window.onload = () => {
    const match = localStorage.getItem("selectedMatch") || "Unknown Match";
    const seats = JSON.parse(localStorage.getItem("selectedSeats")) || ["No Seats Selected"];
    const date = localStorage.getItem("matchDate") || "25 Oct 2025";
    const time = localStorage.getItem("matchTime") || "7:30 PM";
    const stadium = localStorage.getItem("stadiumName") || "Narendra Modi Stadium, Ahmedabad";
    const ticketID = "IPL" + Math.floor(100000 + Math.random() * 900000);

    // Set text
    document.getElementById("matchName").innerText = match;
    document.getElementById("seatNumbers").innerText = seats.join(", ");
    document.getElementById("matchDate").innerText = date;
    document.getElementById("matchTime").innerText = time;
    document.getElementById("stadiumName").innerText = stadium;
    document.getElementById("ticketID").innerText = ticketID;

    // Update QR
    const qrData = `Match: ${match}\nSeats: ${seats.join(", ")}\nDate: ${date}\nTime: ${time}\nTicket ID: ${ticketID}`;
    document.getElementById("qrCode").src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(qrData)}`;
};
</script>

</body>
</html>
